define(function(require,exports,module){function o(i){e.CheckLogin(function(){n.ShowComfirmDialog({tipText:"确定删除吗?",okCallback:function(){i.addClass("disabled").off("click");var t=i.closest("dl.order"),e=t.attr("data-id");n.SendAjax({url:"/trade/order/delete",param:{id:e},method:"POST",tipText:"删除订单",callback:function(o){window.location.reload()},errorFun:function(n){i.removeClass("disabled").on("click",function(){o(i)})}})}})})}function i(o){e.CheckLogin(function(){n.ShowComfirmDialog({tipText:"确定取消吗?",okCallback:function(){o.addClass("disabled").off("click");var t=o.closest("dl.order"),e=t.attr("data-id");n.SendAjax({url:"/trade/order/cancel",param:{id:e},method:"POST",tipText:"取消订单",callback:function(o){window.location.reload()},errorFun:function(n){o.removeClass("disabled").on("click",function(){i(o)})}})}})})}var n=require("../libs/utils.js"),t=require("../libs/timer.js"),e=require("../login.js");$(function(){t.updateTime({totalTime:18e5,outdatedFun:function(){window.location.href="/trade/order/list"}}),$(".del-order").on("click",function(){o($(this))}),$(".cancel-order").on("click",function(){i($(this))})})});