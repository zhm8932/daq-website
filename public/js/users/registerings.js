define(function(require,exports,module){function i(n){e.CheckLogin(function(){t.ShowComfirmDialog({tipText:"确定删除吗?",okCallback:function(){n.addClass("disabled").off("click");var o=n.closest("tr,dl"),e=o.attr("data-id");t.SendAjax({url:"/users/register/del",param:{reservationId:e},method:"POST",tipText:"删除挂号",callback:function(i){o.hide(500)},errorFun:function(t){n.removeClass("disabled").on("click",function(){i(n)})}})}})})}function n(i){e.CheckLogin(function(){t.ShowComfirmDialog({tipText:"确定取消吗?",okCallback:function(){i.addClass("disabled").off("click");var o=i.closest("tr,dl"),e=o.attr("data-id");t.SendAjax({url:"/users/register/cancel",param:{registrationId:e},method:"POST",tipText:"取消挂号",callback:function(i){window.location.reload()},errorFun:function(t){i.removeClass("disabled").on("click",function(){n(i)})}})}})})}var t=require("../libs/utils.js"),o=require("../libs/timer.js"),e=require("../login.js");$(function(){o.updateTime({totalTime:18e5,outdatedFun:function(){window.location.href="/users/register/list"}}),$(".del-reg").on("click",function(){i($(this))}),$(".cancel-reg").on("click",function(){n($(this))})})});